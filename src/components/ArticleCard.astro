---
import type { Issue } from "../lib/types";

interface Props {
  issue: Issue;
}

const { issue } = Astro.props;
---

<article class="grid__item flex flex-col gap-2 p-4">
  <div class="aspect-square relative overflow-hidden">
    <span
      class="text-[5vw] text-[#fff] w-40 h-40 position absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[rgba(0,0,0,0.2)] backdrop-blur rounded-full flex items-center justify-center"
      >{issue.uniqueId}</span
    >
    {
      issue.coverUrl && (
        <img
          src={issue.coverUrl}
          alt={issue.title}
          class="h-full w-full object-cover"
        />
      )
    }
  </div>
  <div class="info">
    <p class="text-sm text-gray-500">{issue.date}</p>
    <h2 class="text-2xl font-semibold mb-2">
      <a
        href={`/issues/${issue.id}`}
        class="hover:text-blue-600 dark:hover:text-blue-400"
      >
        {issue.title}
      </a>
    </h2>
    <p class="text-gray-600 dark:text-gray-300">{issue.description}</p>
  </div>
  <!-- <details>
    <summary>Debug</summary>
    <pre class="text-xs">{JSON.stringify(issue.raw, null, 2)}</pre>
  </details> -->
</article>
